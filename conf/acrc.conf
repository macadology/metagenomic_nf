params {
  //Note: Check local.config for additional default settings
  //=========== Inputs/Outputs ===========
  //=========== BWA ===========
  //=========== Kraken ===========
  krakenDB                = "/home/users/astar/gis/teojyj/scratch/databases/kraken/databases/standard"
  //============ Centrifuge (RAM requirements preclude using more threads)
  centrifugeDBdir         = "/home/users/astar/gis/teojyj/scratch/databases/centrifuge/databases"
  //============ Decont ===========
  decontIndex             = "/home/users/astar/gis/teojyj/scratch/databases/refseq/homosapien/GRCh38_latest_genomic.fna.gz"
  //============ Humann ===========
  humannDB_Uniref         = "/home/users/astar/gis/teojyj/scratch/databases/humann/database_2022_04_10/uniref"
  humannDB_Chocophlan     = "/home/users/astar/gis/teojyj/scratch/databases/humann/database_2022_04_10/chocophlan"
  humannDB_bt2Chocophlan  = "/home/users/astar/gis/teojyj/scratch/databases/humann/database_2022_04_10/bt2chocophlan"
  humannDB_Util           = "/home/users/astar/gis/teojyj/scratch/databases/humann/database_2022_04_10/utility_mapping"
  humannDB_index          = "mpa_v31_CHOCOPhlAn_201901"
  //============ Srst2 ===========
  //srst2DB                 = "/home/users/astar/gis/teojyj/scratch/databases/seqdb/AMR/ARGANNOT-SRST2/ARGannot_r3.fasta"
  srst2DB                 = "/home/users/astar/gis/teojyj/scratch/databases/seqdb/AMR/ARGANNOT-SRST2/CARD_v3.0.8_SRST2.fasta"
  //============ Test ============
  testDatabase            = "/home/users/astar/gis/teojyj/code/metagenomic_nf/extra/testDatabase.txt"
  //============ RGI ===========
  //============ Bowtie ===========
  //============ Diamond ===========
}

singularity {
      enabled = true
      autoMounts = true
      cacheDir = "/home/users/astar/gis/teojyj/.singularity/cache"
}

executor {
      name = "slurm"
      queueSize = 10
      // queueSize affects transient storage required on the cluster
}

process {
    //executor = 'slurm'
    withName: BWA {
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/bwa_v0.7.17_cv1.sif"
    }
    withName: MAPPED {
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/bwa_v0.7.17_cv1.sif"
    }
    withName: FASTP {
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/fastp_v0.20.1_cv1.sif"
    }
    withName: DECONT {
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/bwa_v0.7.17_cv1.sif"
    }
    withName: KRAKEN2 {
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/kraken.sif"
    }
    withName: BRACKEN {
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/kraken.sif"
    }
    withName: HUMANN3 {
        executor.$slurm.queueSize = 3 //Otherwise, you may run into space issue.
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/humann3.1.1.sif"
    }
    withName: SRST2 {
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/srst2.sif"
    }
    withName: RGI {
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/rgi.sif"
    }
    withName: CENTRIFUGE {
        cpus = 16
        memory = 32.GB
        queue = 'normal' //normal, express, long
        time = '1day' //hh:mm:ss
        container = "/home/users/astar/gis/teojyj/singularity/centrifuge.sif"
    }
    withName: TEST {
        cpus = 8
        memory = 30.GB
        queue = "normal" //normal, express, long
        time = '20minutes' //'1day 6hours 3minutes 30seconds'
        container = "/home/users/astar/gis/teojyj/singularity/ubuntu:18.04.sif"
    }
}
